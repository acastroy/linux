#define QUANTIZATION_TABLE_LEN  (96)
#define VLC_LOOKUP_TABLE_LEN    (1024)

static const u32  ForwardQuantizationTable[QUANTIZATION_TABLE_LEN] =
{
    0x3333, 0x1f82, 0x3333, 0x1F82, 0x1F82, 0x147B, 0x1F82, 0x147B, 0x3333, 0x1F82, 
    0x3333, 0x1F82, 0x1F82, 0x147B, 0x1F82, 0x147B, 0x2E8C, 0x1D42, 0x2E8C, 0x1D42,
    0x1D42, 0x1234, 0x1D42, 0x1234, 0x2E8C, 0x1D42, 0x2E8C, 0x1D42, 0x1D42, 0x1234,
    0x1D42, 0x1234, 0x2762, 0x199A, 0x2762, 0x199A, 0x199A, 0x1062, 0x199A, 0x1062,
    0x2762, 0x199A, 0x2762, 0x199A, 0x199A, 0x1062, 0x199A, 0x1062, 0x2492, 0x16C1,
    0x2492, 0x16C1, 0x16C1, 0x0E3F, 0x16C1, 0x0E3F, 0x2492, 0x16C1, 0x2492, 0x16C1,
    0x16C1, 0x0E3F, 0x16C1, 0x0E3F, 0x2000, 0x147B, 0x2000, 0x147B, 0x147B, 0x0D1B,
    0x147B, 0x0D1B, 0x2000, 0x147B, 0x2000, 0x147B, 0x147B, 0x0D1B, 0x147B, 0x0D1B,
    0x1C72, 0x11CF, 0x1C72, 0x11CF, 0x11CF, 0x0B4D, 0x11CF, 0x0B4D, 0x1C72, 0x11CF,
    0x1C72, 0x11CF, 0x11CF, 0x0B4D, 0x11CF, 0x0B4D
};

static const u32  InverseQuantizationTable[QUANTIZATION_TABLE_LEN] =
{
    0x800A, 0x800D, 0x800A, 0x800D, 0x800D, 0x8010, 0x800D, 0x8010, 0x800A, 0x800D, 
    0x800A, 0x800D, 0x800D, 0x8010, 0x800D, 0x8010, 0x800B, 0x800E, 0x800B, 0x800E,
    0x800E, 0x8012, 0x800E, 0x8012, 0x800B, 0x800E, 0x800B, 0x800E, 0x800E, 0x8012,
    0x800E, 0x8012, 0x800D, 0x8010, 0x800D, 0x8010, 0x8010, 0x8014, 0x8010, 0x8014,
    0x800D, 0x8010, 0x800D, 0x8010, 0x8010, 0x8014, 0x8010, 0x8014, 0x800E, 0x8012,
    0x800E, 0x8012, 0x8012, 0x8017, 0x8012, 0x8017, 0x800E, 0x8012, 0x800E, 0x8012,
    0x8012, 0x8017, 0x8012, 0x8017, 0x8010, 0x8014, 0x8010, 0x8014, 0x8014, 0x8019,
    0x8014, 0x8019, 0x8010, 0x8014, 0x8010, 0x8014, 0x8014, 0x8019, 0x8014, 0x8019,
    0x8012, 0x8017, 0x8012, 0x8017, 0x8017, 0x801D, 0x8017, 0x801D, 0x8012, 0x8017,
    0x8012, 0x8017, 0x8017, 0x801D, 0x8017, 0x801D
};

static const u32	encoder_vlc_lookup_table[VLC_LOOKUP_TABLE_LEN] = {
    0x011,0x000,0x000,0x000,0x065,0x021,0x000,0x000,0x087,0x064,0x031,0x000,
    0x097,0x086,0x075,0x053,0x0a7,0x096,0x085,0x063,0x0b7,0x0a6,0x095,0x074,
    0x0df,0x0b6,0x0a5,0x084,0x0db,0x0de,0x0b5,0x094,0x0d8,0x0da,0x0dd,0x0a4,
    0x0ef,0x0ee,0x0d9,0x0b4,0x0eb,0x0ea,0x0ed,0x0dc,0x0ff,0x0fe,0x0e9,0x0ec,
    0x0fb,0x0fa,0x0fd,0x0e8,0x10f,0x0f1,0x0f9,0x0fc,0x10b,0x10e,0x10d,0x0f8,
    0x107,0x10a,0x109,0x10c,0x104,0x106,0x105,0x108,0x023,0x000,0x000,0x000,
    0x06b,0x022,0x000,0x000,0x067,0x057,0x033,0x000,0x077,0x06a,0x069,0x045,
    0x087,0x066,0x065,0x044,0x084,0x076,0x075,0x056,0x097,0x086,0x085,0x068,
    0x0bf,0x096,0x095,0x064,0x0bb,0x0be,0x0bd,0x074,0x0cf,0x0ba,0x0b9,0x094,
    0x0cb,0x0ce,0x0cd,0x0bc,0x0c8,0x0ca,0x0c9,0x0b8,0x0df,0x0de,0x0dd,0x0cc,
    0x0db,0x0da,0x0d9,0x0dc,0x0d7,0x0eb,0x0d6,0x0d8,0x0e9,0x0e8,0x0ea,0x0d1,
    0x0e7,0x0e6,0x0e5,0x0e4,0x04f,0x000,0x000,0x000,0x06f,0x04e,0x000,0x000,
    0x06b,0x05f,0x04d,0x000,0x068,0x05c,0x05e,0x04c,0x07f,0x05a,0x05b,0x04b,
    0x07b,0x058,0x059,0x04a,0x079,0x06e,0x06d,0x049,0x078,0x06a,0x069,0x048,
    0x08f,0x07e,0x07d,0x05d,0x08b,0x08e,0x07a,0x06c,0x09f,0x08a,0x08d,0x07c,
    0x09b,0x09e,0x089,0x08c,0x098,0x09a,0x09d,0x088,0x0ad,0x097,0x099,0x09c,
    0x0a9,0x0ac,0x0ab,0x0aa,0x0a5,0x0a8,0x0a7,0x0a6,0x0a1,0x0a4,0x0a3,0x0a2,
    0x021,0x000,0x000,0x000,0x067,0x011,0x000,0x000,0x064,0x066,0x031,0x000,
    0x063,0x073,0x072,0x065,0x062,0x083,0x082,0x070,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x011,0x010,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x011,0x021,0x020,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x023,0x022,0x021,0x020,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x023,0x022,0x021,0x031,0x030,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x023,0x022,0x033,0x032,0x031,0x030,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x023,0x030,0x031,0x033,
    0x032,0x035,0x034,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x037,0x036,0x035,0x034,0x033,0x032,0x031,0x041,0x051,0x061,0x071,0x081,
    0x091,0x0a1,0x0b1,0x000,0x002,0x000,0x0e4,0x011,0x0f4,0x002,0x024,0x003,
    0x005,0x012,0x034,0x013,0x065,0x024,0x013,0x063,0x015,0x022,0x075,0x034,
    0x044,0x023,0x023,0x073,0x054,0x033,0x033,0x004,0x043,0x014,0x011,0x043,
    0x014,0x001,0x025,0x015,0x035,0x025,0x064,0x055,0x045,0x035,0x074,0x065,
    0x085,0x0d5,0x012,0x095,0x055,0x045,0x095,0x0e5,0x084,0x075,0x022,0x0a5,
    0x094,0x085,0x032,0x0b5,0x003,0x0c5,0x001,0x044,0x0a5,0x032,0x0b5,0x094,
    0x0c5,0x0a4,0x0a4,0x054,0x0d5,0x0b4,0x0b4,0x064,0x0f5,0x0f5,0x053,0x0d4,
    0x0e5,0x0c4,0x105,0x105,0x0c4,0x074,0x063,0x0e4,0x0d4,0x084,0x073,0x0f4,
    0x004,0x005,0x000,0x053,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x011,0x021,0x031,0x030,0x011,0x021,0x020,0x000,
    0x011,0x010,0x000,0x000,0x011,0x033,0x032,0x043,0x042,0x053,0x052,0x063,
    0x062,0x073,0x072,0x083,0x082,0x093,0x092,0x091,0x037,0x036,0x035,0x034,
    0x033,0x045,0x044,0x043,0x042,0x053,0x052,0x063,0x062,0x061,0x060,0x000,
    0x045,0x037,0x036,0x035,0x044,0x043,0x034,0x033,0x042,0x053,0x052,0x061,
    0x051,0x060,0x000,0x000,0x053,0x037,0x045,0x044,0x036,0x035,0x034,0x043,
    0x033,0x042,0x052,0x051,0x050,0x000,0x000,0x000,0x045,0x044,0x043,0x037,
    0x036,0x035,0x034,0x033,0x042,0x051,0x041,0x050,0x000,0x000,0x000,0x000,
    0x061,0x051,0x037,0x036,0x035,0x034,0x033,0x032,0x041,0x031,0x060,0x000,
    0x000,0x000,0x000,0x000,0x061,0x051,0x035,0x034,0x033,0x023,0x032,0x041,
    0x031,0x060,0x000,0x000,0x000,0x000,0x000,0x000,0x061,0x041,0x051,0x033,
    0x023,0x022,0x032,0x031,0x060,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x061,0x060,0x041,0x023,0x022,0x031,0x021,0x051,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x051,0x050,0x031,0x023,0x022,0x021,0x041,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x040,0x041,0x031,0x032,
    0x011,0x033,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x040,0x041,0x021,0x011,0x031,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x030,0x031,0x011,0x021,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x020,0x021,0x011,0x000,
    0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x010,0x011,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,0x000,
    0x000,0x000,0x000,0x000
};

static void WriteEncodeVLCLookupTable(struct tw5864_dev *dev)
{
    int i;

    tw_writel(TW5864_VLC_RD, 0x1);
    for(i=0; i<VLC_LOOKUP_TABLE_LEN; i++){
        tw_writel((TW5864_VLC_STREAM_MEM_START+(i<<2)), encoder_vlc_lookup_table[i]);
    }
    tw_writel(TW5864_VLC_RD, 0x0);
}

static void WriteForwardQuantizationTable(struct tw5864_dev *dev)
{
    int i;

    for (i=0; i<QUANTIZATION_TABLE_LEN; i++) {
        tw_writel((TW5864_QUAN_TAB+(i<<2)), ForwardQuantizationTable[i]);
    }
}

static void WriteInverseQuantizationTable(struct tw5864_dev *dev)
{
    int i;

    for (i=0; i<QUANTIZATION_TABLE_LEN; i++) {
        tw_writel((TW5864_QUAN_TAB+(i<<2)), InverseQuantizationTable[i]);
    }
}

